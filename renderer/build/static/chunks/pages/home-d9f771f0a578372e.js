(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{4378:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return n(673)}])},673:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(4246),a=n(7378),r=n(3717),c=n(7298);function i(){var e=(0,r.m$)().setUser,t=function(t){var n=t.user,s={signer_uuid:t.signer_uuid,fid:Number(n.fid),fname:n.username,displayName:n.display_name,profile:{bio:n.profile.bio.text||""},pfp:n.pfp_url,followerCount:n.follower_count,followingCount:n.following_count};localStorage.setItem(c.c,JSON.stringify(s)),e(s)};return a.useEffect((function(){return window.onSignInSuccess=t,function(){delete window.onSignInSuccess}}),[]),(0,s.jsx)("div",{className:"neynar_signin pt-2 pr-0 md:pr-4","data-client_id":"528a8121-f121-4aee-af91-51829a64bf80","data-success-callback":"onSignInSuccess","data-width":"147px","data-height":"29px","data-font_size":"13px","data-padding":"6px 13px","data-theme":"light"})}var l=n(3842),u=n(5556);function o(){var e=(0,a.useState)(""),t=e[0],n=e[1],c=function(){var e=(0,a.useContext)(r.F);if(!e)throw new Error("useCast must be used within a NeynarAuthProvider");return e.postCast}(),i=(0,r.m$)().user,o=(0,a.useState)(null),d=o[0],h=o[1],p=(0,a.useState)(""),f=p[0],x=p[1],m=(0,a.useState)(""),g=m[0],b=m[1],w=(0,a.useState)(!1),v=w[0],N=w[1],_=(0,a.useState)(!1),y=_[0],j=_[1],k=function(){var e=(0,l.Z)((function(){var e,s;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:if(!i||!i.signer_uuid)return h("Failed to post cast. User information is missing."),[2];if(v&&!f)return h("Parent URL is checked but empty."),[2];if(y&&!g)return h("Parent Hash is checked but empty."),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,c({text:t,signer_uuid:i.signer_uuid,parent:v?f:y?g:void 0})];case 2:return(e=a.sent())&&e.cast&&e.cast.hash?h("Cast posted successfully! Hash: ".concat(e.cast.hash)):h("Failed to post cast. No hash returned."),n(""),[3,4];case 3:return s=a.sent(),h("Failed to post cast."),console.error("Failed to post cast",s),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsxs)("div",{className:"bg-gray-900 text-white p-4 rounded-md w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-lg mb-4",children:"Cast below"}),(0,s.jsx)("textarea",{value:t,onChange:function(e){n(e.target.value)},className:"w-full p-2 bg-gray-800 text-white rounded-md mb-4",rows:4,placeholder:"Start typing a new cast here..."}),(0,s.jsxs)("div",{className:"flex flex-col space-y-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:v,onChange:function(e){N(e.target.checked),e.target.checked&&(j(!1),b(""))}}),(0,s.jsx)("input",{type:"text",value:f,onChange:function(e){return x(e.target.value)},className:"flex-grow p-2 bg-gray-800 text-white rounded-md",placeholder:"Parent URL",disabled:!v})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:y,onChange:function(e){j(e.target.checked),e.target.checked&&(N(!1),x(""))}}),(0,s.jsx)("input",{type:"text",value:g,onChange:function(e){return b(e.target.value)},className:"flex-grow p-2 bg-gray-800 text-white rounded-md",placeholder:"Parent Hash",disabled:!y})]})]}),(0,s.jsx)("button",{onClick:k,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded",children:"Cast"}),d&&(0,s.jsx)("div",{className:"mt-4 p-2 bg-gray-800 text-white rounded-md",children:d})]})}function d(){var e=(0,r.m$)(),t=e.user,n=e.setUser;return(0,s.jsx)("div",{className:"bg-black text-white h-screen flex flex-col items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("p",{className:"text-4xl mb-4",children:"Electronic"}),(0,s.jsxs)("p",{className:"text-md mb-8",children:["A cast only ",(0,s.jsx)("a",{className:"underline",href:"https://www.farcaster.xyz",target:"_blank",children:"Farcaster"})," client, built on ",(0,s.jsx)("a",{className:"underline",href:"https://www.electronjs.org",target:"_blank",children:"Electron"})]}),!t&&(0,s.jsx)(i,{}),t&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-md mb-4",children:["Welcome, ",t.displayName,"!"]}),(0,s.jsx)("button",{className:"mb-8 mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:function(){n(null)},children:"Logout"}),(0,s.jsx)(o,{})]})]})})}}},function(e){e.O(0,[774,888,179],(function(){return t=4378,e(e.s=t);var t}));var t=e.O();_N_E=t}]);